var d=Object.defineProperty;var u=(e,n,r)=>n in e?d(e,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[n]=r;var c=(e,n,r)=>(u(e,typeof n!="symbol"?n+"":n,r),r);import{_ as m}from"./preload-helper.41c905a7.js";const l={info:(...e)=>i("info",...e),warn:(...e)=>i("warn",...e),error:(...e)=>i("error",...e),endpoint:(e,n,r,o,...a)=>{o=Math.trunc(o);let t=w()+"[:";e<300?t+="\x1B[32m":e<400?t+="\x1B[33m":e<500?t+="\x1B[31m":t+="\x1B[43m",t+=e+"\x1B[0m] ",t+="\x1B[33m"+n,t+="\x1B[0m \x1B[32m"+r,o>500?t+="\x1B[33m 🦥":o>1e3?t+="\x1B[31m 🐌":t+="\x1B[32m 🚀",t+=` ${o} ms\x1B[0m`,console.log(t)}},i=(e,...n)=>{if(!x())return console[e](...n)},w=()=>new Date().toLocaleTimeString()+" ",x=e=>!0;class B{async connect(){const{openDB:n}=await m(()=>import("./index.206c2777.js"),[],import.meta.url);return n("lib_wallet",+"1",{upgrade(r,o,a,t,g){r.createObjectStore("accounts",{keyPath:"id",autoIncrement:!0})},blocked(r,o,a){},blocking(r,o,a){},terminated(){}})}}const b=new B,s=b.connect();class f{constructor(){c(this,"nodb",new Error("could not connect to indexed db"));c(this,"createNew",async n=>{var r;try{return await((r=await s)==null?void 0:r.add("accounts",{name:n}))??this.nodb}catch(o){return l.error(o),new Error("could not create new account")}});c(this,"findAll",async()=>{var n;try{return await((n=await s)==null?void 0:n.getAll("accounts"))??this.nodb}catch(r){return l.error(r),new Error("could not get all accounts")}})}}const v=new f;export{v as a};
