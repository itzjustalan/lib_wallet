var he=Object.defineProperty;var $e=(a,e,n)=>e in a?he(a,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):a[e]=n;var F=(a,e,n)=>($e(a,typeof e!="symbol"?e+"":e,n),n);import{S as W,i as M,s as q,k as b,q as E,a as V,l as w,m as D,r as I,h as $,c as N,n as x,b as A,C as p,g as y,v as ue,f as fe,d as T,L as de,D as K,o as Y,u as Z,F as J,G as O,y as C,z as P,A as S,B as L,M as G,N as me,e as ee}from"../chunks/index.0c9607c5.js";import{_ as pe}from"../chunks/preload-helper.41c905a7.js";import{a as R,I as z,t as _e}from"../chunks/Item.e30f7234.js";import"../chunks/paths.2f4656ac.js";const te={info:(...a)=>X("info",...a),warn:(...a)=>X("warn",...a),error:(...a)=>X("error",...a),endpoint:(a,e,n,t,...c)=>{t=Math.trunc(t);let r=ge()+"[:";a<300?r+="\x1B[32m":a<400?r+="\x1B[33m":a<500?r+="\x1B[31m":r+="\x1B[43m",r+=a+"\x1B[0m] ",r+="\x1B[33m"+e,r+="\x1B[0m \x1B[32m"+n,t>500?r+="\x1B[33m ðŸ¦¥":t>1e3?r+="\x1B[31m ðŸŒ":r+="\x1B[32m ðŸš€",r+=` ${t} ms\x1B[0m`,console.log(r)}},X=(a,...e)=>{if(!ve())return console[a](...e)},ge=()=>new Date().toLocaleTimeString()+" ",ve=a=>!0;class be{async connect(){const{openDB:e}=await pe(()=>import("../chunks/index.206c2777.js"),[],import.meta.url);return e("lib_wallet",+"1",{upgrade(n,t,c,r,l){n.createObjectStore("accounts",{keyPath:"id",autoIncrement:!0})},blocked(n,t,c){},blocking(n,t,c){},terminated(){}})}}const we=new be,ne=we.connect();class ke{constructor(){F(this,"nodb",new Error("could not connect to indexed db"));F(this,"createNew",async e=>{var n;try{return await((n=await ne)==null?void 0:n.add("accounts",{name:e}))??this.nodb}catch(t){return te.error(t),new Error("could not create new account")}});F(this,"findAll",async()=>{var e;try{return await((e=await ne)==null?void 0:e.getAll("accounts"))??this.nodb}catch(n){return te.error(n),new Error("could not get all accounts")}})}}const U=new ke;function re(a,e,n){const t=a.slice();return t[7]=e[n],t}function ae(a){let e,n=a[1].account.name+"",t,c,r;return{c(){e=E("selected account: "),t=E(n),c=E(" Account"),r=b("br")},l(l){e=I(l,"selected account: "),t=I(l,n),c=I(l," Account"),r=w(l,"BR",{})},m(l,i){A(l,e,i),A(l,t,i),A(l,c,i),A(l,r,i)},p(l,i){i&2&&n!==(n=l[1].account.name+"")&&Z(t,n)},d(l){l&&$(e),l&&$(t),l&&$(c),l&&$(r)}}}function ce(a){let e,n,t,c,r;return{c(){e=b("div"),n=b("u"),t=E("create new bank account!!"),this.h()},l(l){e=w(l,"DIV",{class:!0});var i=D(e);n=w(i,"U",{});var o=D(n);t=I(o,"create new bank account!!"),o.forEach($),i.forEach($),this.h()},h(){x(e,"class","link svelte-9sd5ha")},m(l,i){A(l,e,i),p(e,n),p(n,t),c||(r=J(e,"click",a[2]),c=!0)},p:O,d(l){l&&$(e),c=!1,r()}}}function le(a){let e,n;function t(){return a[3](a[7])}return e=new z({props:{text:a[7].name,onclick:t}}),{c(){C(e.$$.fragment)},l(c){P(e.$$.fragment,c)},m(c,r){S(e,c,r),n=!0},p(c,r){a=c;const l={};r&1&&(l.text=a[7].name),r&1&&(l.onclick=t),e.$set(l)},i(c){n||(y(e.$$.fragment,c),n=!0)},o(c){T(e.$$.fragment,c),n=!1},d(c){L(e,c)}}}function Be(a){let e,n,t,c,r,l,i,o,f,m=a[1].account&&ae(a),s=!a[0].length&&ce(a),h=a[0],_=[];for(let u=0;u<h.length;u+=1)_[u]=le(re(a,h,u));const H=u=>T(_[u],1,1,()=>{_[u]=null});return{c(){e=b("div"),n=b("div"),t=E("Accounts"),c=V(),m&&m.c(),r=V(),s&&s.c(),l=V();for(let u=0;u<_.length;u+=1)_[u].c();i=V(),o=b("br"),this.h()},l(u){e=w(u,"DIV",{class:!0});var g=D(e);n=w(g,"DIV",{class:!0});var d=D(n);t=I(d,"Accounts"),d.forEach($),c=N(g),m&&m.l(g),r=N(g),s&&s.l(g),l=N(g);for(let v=0;v<_.length;v+=1)_[v].l(g);i=N(g),o=w(g,"BR",{}),g.forEach($),this.h()},h(){x(n,"class","page-title"),x(e,"class","page")},m(u,g){A(u,e,g),p(e,n),p(n,t),p(e,c),m&&m.m(e,null),p(e,r),s&&s.m(e,null),p(e,l);for(let d=0;d<_.length;d+=1)_[d]&&_[d].m(e,null);p(e,i),p(e,o),f=!0},p(u,[g]){if(u[1].account?m?m.p(u,g):(m=ae(u),m.c(),m.m(e,r)):m&&(m.d(1),m=null),u[0].length?s&&(s.d(1),s=null):s?s.p(u,g):(s=ce(u),s.c(),s.m(e,l)),g&1){h=u[0];let d;for(d=0;d<h.length;d+=1){const v=re(u,h,d);_[d]?(_[d].p(v,g),y(_[d],1)):(_[d]=le(v),_[d].c(),y(_[d],1),_[d].m(e,i))}for(ue(),d=h.length;d<_.length;d+=1)H(d);fe()}},i(u){if(!f){for(let g=0;g<h.length;g+=1)y(_[g]);f=!0}},o(u){_=_.filter(Boolean);for(let g=0;g<_.length;g+=1)T(_[g]);f=!1},d(u){u&&$(e),m&&m.d(),s&&s.d(),de(_,u)}}}function De(a,e,n){let t;K(a,R,o=>n(1,t=o));let c=[];"indexedDB"in window||alert("This browser doesn't support IndexedDB"),Y(async()=>{await r()});const r=async()=>{const o=await U.findAll();o instanceof Error?alert(o.message):n(0,c=o),c.length&&R.setAccount(c[0])};return[c,t,()=>R.navto("new-account"),o=>R.setAccount(o)]}class Ae extends W{constructor(e){super(),M(this,e,De,Be,q,{})}}function Ee(a){var i;let e,n,t,c,r,l;return r=new z({props:{text:"Account: "+((i=a[0].account)==null?void 0:i.name),onclick:a[1]}}),{c(){e=b("div"),n=b("div"),t=E("Dashboard"),c=V(),C(r.$$.fragment),this.h()},l(o){e=w(o,"DIV",{class:!0});var f=D(e);n=w(f,"DIV",{class:!0});var m=D(n);t=I(m,"Dashboard"),m.forEach($),c=N(f),P(r.$$.fragment,f),f.forEach($),this.h()},h(){x(n,"class","page-title"),x(e,"class","page")},m(o,f){A(o,e,f),p(e,n),p(n,t),p(e,c),S(r,e,null),l=!0},p(o,[f]){var s;const m={};f&1&&(m.text="Account: "+((s=o[0].account)==null?void 0:s.name)),r.$set(m)},i(o){l||(y(r.$$.fragment,o),l=!0)},o(o){T(r.$$.fragment,o),l=!1},d(o){o&&$(e),L(r)}}}function Ie(a,e,n){let t;return K(a,R,r=>n(0,t=r)),Y(async()=>{if(!t.account){const r=await U.findAll();r instanceof Error?alert(r.message):r.length&&!t.account&&R.setAccount(r[0])}}),[t,()=>R.navto("accounts")]}class ye extends W{constructor(e){super(),M(this,e,Ie,Ee,q,{})}}function Ve(a){let e,n,t,c,r,l,i,o,f,m;return r=new z({props:{text:"theme: "+a[0],onclick:_e.toggle}}),i=new z({props:{text:"delete index db",onclick:a[1]}}),f=new z({props:{text:"populate index db",onclick:a[2]}}),{c(){e=b("div"),n=b("div"),t=E("Developer Settings"),c=V(),C(r.$$.fragment),l=V(),C(i.$$.fragment),o=V(),C(f.$$.fragment),this.h()},l(s){e=w(s,"DIV",{class:!0});var h=D(e);n=w(h,"DIV",{class:!0});var _=D(n);t=I(_,"Developer Settings"),_.forEach($),c=N(h),P(r.$$.fragment,h),l=N(h),P(i.$$.fragment,h),o=N(h),P(f.$$.fragment,h),h.forEach($),this.h()},h(){x(n,"class","page-title"),x(e,"class","page")},m(s,h){A(s,e,h),p(e,n),p(n,t),p(e,c),S(r,e,null),p(e,l),S(i,e,null),p(e,o),S(f,e,null),m=!0},p(s,[h]){const _={};h&1&&(_.text="theme: "+s[0]),r.$set(_)},i(s){m||(y(r.$$.fragment,s),y(i.$$.fragment,s),y(f.$$.fragment,s),m=!0)},o(s){T(r.$$.fragment,s),T(i.$$.fragment,s),T(f.$$.fragment,s),m=!1},d(s){s&&$(e),L(r),L(i),L(f)}}}function Ne(a,e,n){let t;return K(a,_e,l=>n(0,t=l)),[t,async()=>{const{deleteDB:l}=await pe(()=>import("../chunks/index.206c2777.js"),[],import.meta.url);await l("lib_wallet")},async()=>{const l=[];l.push(U.createNew("primary")),l.push(U.createNew("savings")),l.push(U.createNew("stocks")),await Promise.all(l),alert("done")}]}class Te extends W{constructor(e){super(),M(this,e,Ne,Ve,q,{})}}function xe(a){let e,n,t,c;return{c(){e=b("div"),n=b("div"),t=E("Home"),c=E(`
    Welcome to Lib Wallet`),this.h()},l(r){e=w(r,"DIV",{class:!0});var l=D(e);n=w(l,"DIV",{class:!0});var i=D(n);t=I(i,"Home"),i.forEach($),c=I(l,`
    Welcome to Lib Wallet`),l.forEach($),this.h()},h(){x(n,"class","page-title"),x(e,"class","page")},m(r,l){A(r,e,l),p(e,n),p(n,t),p(e,c)},p:O,i:O,o:O,d(r){r&&$(e)}}}class Ce extends W{constructor(e){super(),M(this,e,null,xe,q,{})}}function Pe(a){let e,n,t,c,r,l,i,o,f,m;return{c(){e=b("div"),n=b("div"),t=E("Create New Bank Account"),c=V(),r=b("input"),l=V(),i=b("button"),o=E("Create new Bank Account"),this.h()},l(s){e=w(s,"DIV",{class:!0});var h=D(e);n=w(h,"DIV",{class:!0});var _=D(n);t=I(_,"Create New Bank Account"),_.forEach($),c=N(h),r=w(h,"INPUT",{placeholder:!0}),l=N(h),i=w(h,"BUTTON",{});var H=D(i);o=I(H,"Create new Bank Account"),H.forEach($),h.forEach($),this.h()},h(){x(n,"class","page-title"),x(r,"placeholder","Account Name"),x(e,"class","page")},m(s,h){A(s,e,h),p(e,n),p(n,t),p(e,c),p(e,r),G(r,a[0]),p(e,l),p(e,i),p(i,o),f||(m=[J(r,"input",a[2]),J(i,"click",a[1])],f=!0)},p(s,[h]){h&1&&r.value!==s[0]&&G(r,s[0])},i:O,o:O,d(s){s&&$(e),f=!1,me(m)}}}function Se(a,e,n){let t;const c=async()=>{t||alert("enter an account name"),await U.createNew(t),R.navto("dash")};function r(){t=this.value,n(0,t)}return[t,c,r]}class Le extends W{constructor(e){super(),M(this,e,Se,Pe,q,{})}}function oe(a,e,n){const t=a.slice();return t[8]=e[n],t}function se(a){let e,n=a[1].name+"",t,c;return{c(){e=E("selected account: "),t=E(n),c=b("br")},l(r){e=I(r,"selected account: "),t=I(r,n),c=w(r,"BR",{})},m(r,l){A(r,e,l),A(r,t,l),A(r,c,l)},p(r,l){l&2&&n!==(n=r[1].name+"")&&Z(t,n)},d(r){r&&$(e),r&&$(t),r&&$(c)}}}function ie(a){let e,n=a[8].name+"",t,c,r;function l(){return a[5](a[8])}return{c(){e=b("div"),t=E(n)},l(i){e=w(i,"DIV",{});var o=D(e);t=I(o,n),o.forEach($)},m(i,o){A(i,e,o),p(e,t),c||(r=J(e,"click",l),c=!0)},p(i,o){a=i,o&4&&n!==(n=a[8].name+"")&&Z(t,n)},d(i){i&&$(e),c=!1,r()}}}function Re(a){let e,n,t,c,r,l,i,o,f,m,s,h,_,H,u=a[1]&&se(a),g=a[2],d=[];for(let v=0;v<g.length;v+=1)d[v]=ie(oe(a,g,v));return{c(){e=b("div"),n=b("h1"),t=E("Just a simple page to test svelte kit static adapter for gh pages"),c=V(),u&&u.c(),r=V();for(let v=0;v<d.length;v+=1)d[v].c();l=V(),i=b("br"),o=V(),f=b("input"),m=V(),s=b("button"),h=E("Create new Bank Account"),this.h()},l(v){e=w(v,"DIV",{class:!0});var B=D(e);n=w(B,"H1",{});var k=D(n);t=I(k,"Just a simple page to test svelte kit static adapter for gh pages"),k.forEach($),c=N(B),u&&u.l(B),r=N(B);for(let Q=0;Q<d.length;Q+=1)d[Q].l(B);l=N(B),i=w(B,"BR",{}),o=N(B),f=w(B,"INPUT",{placeholder:!0}),m=N(B),s=w(B,"BUTTON",{});var j=D(s);h=I(j,"Create new Bank Account"),j.forEach($),B.forEach($),this.h()},h(){x(f,"placeholder","Account Name"),x(e,"class","page")},m(v,B){A(v,e,B),p(e,n),p(n,t),p(e,c),u&&u.m(e,null),p(e,r);for(let k=0;k<d.length;k+=1)d[k]&&d[k].m(e,null);p(e,l),p(e,i),p(e,o),p(e,f),G(f,a[0]),p(e,m),p(e,s),p(s,h),_||(H=[J(f,"input",a[6]),J(s,"click",a[3])],_=!0)},p(v,[B]){if(v[1]?u?u.p(v,B):(u=se(v),u.c(),u.m(e,r)):u&&(u.d(1),u=null),B&20){g=v[2];let k;for(k=0;k<g.length;k+=1){const j=oe(v,g,k);d[k]?d[k].p(j,B):(d[k]=ie(j),d[k].c(),d[k].m(e,l))}for(;k<d.length;k+=1)d[k].d(1);d.length=g.length}B&1&&f.value!==v[0]&&G(f,v[0])},i:O,o:O,d(v){v&&$(e),u&&u.d(),de(d,v),_=!1,me(H)}}}function Oe(a,e,n){let t,c,r=[];const l=async()=>{t||alert("enter an account name"),await U.createNew(t),await o()};"indexedDB"in window||alert("This browser doesn't support IndexedDB"),Y(async()=>{await o()});const i=s=>n(1,c=s),o=async()=>{const s=await U.findAll();s instanceof Error?alert(s.message):n(2,r=s),r.length&&n(1,c=r[0])},f=s=>i(s);function m(){t=this.value,n(0,t)}return[t,c,r,l,i,f,m]}class Ue extends W{constructor(e){super(),M(this,e,Oe,Re,q,{})}}function He(a){let e,n;return e=new Le({}),{c(){C(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,c){S(e,t,c),n=!0},i(t){n||(y(e.$$.fragment,t),n=!0)},o(t){T(e.$$.fragment,t),n=!1},d(t){L(e,t)}}}function We(a){let e,n;return e=new Ae({}),{c(){C(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,c){S(e,t,c),n=!0},i(t){n||(y(e.$$.fragment,t),n=!0)},o(t){T(e.$$.fragment,t),n=!1},d(t){L(e,t)}}}function Me(a){let e,n;return e=new Te({}),{c(){C(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,c){S(e,t,c),n=!0},i(t){n||(y(e.$$.fragment,t),n=!0)},o(t){T(e.$$.fragment,t),n=!1},d(t){L(e,t)}}}function qe(a){let e,n;return e=new Ue({}),{c(){C(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,c){S(e,t,c),n=!0},i(t){n||(y(e.$$.fragment,t),n=!0)},o(t){T(e.$$.fragment,t),n=!1},d(t){L(e,t)}}}function Je(a){let e,n;return e=new ye({}),{c(){C(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,c){S(e,t,c),n=!0},i(t){n||(y(e.$$.fragment,t),n=!0)},o(t){T(e.$$.fragment,t),n=!1},d(t){L(e,t)}}}function je(a){let e,n;return e=new Ce({}),{c(){C(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,c){S(e,t,c),n=!0},i(t){n||(y(e.$$.fragment,t),n=!0)},o(t){T(e.$$.fragment,t),n=!1},d(t){L(e,t)}}}function ze(a){let e,n,t,c;const r=[je,Je,qe,Me,We,He],l=[];function i(o,f){return o[0].page==="home"?0:o[0].page==="dash"?1:o[0].page==="test"?2:o[0].page==="debug"?3:o[0].page==="accounts"?4:o[0].page==="new-account"?5:-1}return~(e=i(a))&&(n=l[e]=r[e](a)),{c(){n&&n.c(),t=ee()},l(o){n&&n.l(o),t=ee()},m(o,f){~e&&l[e].m(o,f),A(o,t,f),c=!0},p(o,[f]){let m=e;e=i(o),e!==m&&(n&&(ue(),T(l[m],1,1,()=>{l[m]=null}),fe()),~e?(n=l[e],n||(n=l[e]=r[e](o),n.c()),y(n,1),n.m(t.parentNode,t)):n=null)},i(o){c||(y(n),c=!0)},o(o){T(n),c=!1},d(o){~e&&l[e].d(o),o&&$(t)}}}function Fe(a,e,n){let t;return K(a,R,c=>n(0,t=c)),[t]}class Ze extends W{constructor(e){super(),M(this,e,Fe,ze,q,{})}}export{Ze as default};
