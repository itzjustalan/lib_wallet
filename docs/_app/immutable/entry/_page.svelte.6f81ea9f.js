var _e=Object.defineProperty;var $e=(a,e,n)=>e in a?_e(a,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):a[e]=n;var F=(a,e,n)=>($e(a,typeof e!="symbol"?e+"":e,n),n);import{S as W,i as M,s as q,k as b,q as A,a as V,l as w,m as E,r as I,h as g,c as y,n as T,b as D,C as p,g as N,v as ue,f as fe,d as x,L as me,D as K,o as Y,u as Z,G as O,y as C,z as P,A as S,B as L,M as G,F as z,N as de,e as ee}from"../chunks/index.0c9607c5.js";import{_ as pe}from"../chunks/preload-helper.41c905a7.js";import{a as R,I as j,t as he}from"../chunks/Item.e30f7234.js";import{b as ge}from"../chunks/paths.379c8086.js";const te={info:(...a)=>X("info",...a),warn:(...a)=>X("warn",...a),error:(...a)=>X("error",...a),endpoint:(a,e,n,t,...c)=>{t=Math.trunc(t);let r=ve()+"[:";a<300?r+="\x1B[32m":a<400?r+="\x1B[33m":a<500?r+="\x1B[31m":r+="\x1B[43m",r+=a+"\x1B[0m] ",r+="\x1B[33m"+e,r+="\x1B[0m \x1B[32m"+n,t>500?r+="\x1B[33m ðŸ¦¥":t>1e3?r+="\x1B[31m ðŸŒ":r+="\x1B[32m ðŸš€",r+=` ${t} ms\x1B[0m`,console.log(r)}},X=(a,...e)=>{if(!be())return console[a](...e)},ve=()=>new Date().toLocaleTimeString()+" ",be=a=>!0;class we{async connect(){const{openDB:e}=await pe(()=>import("../chunks/index.206c2777.js"),[],import.meta.url);return e("lib_wallet",+"1",{upgrade(n,t,c,r,l){n.createObjectStore("accounts",{keyPath:"id",autoIncrement:!0})},blocked(n,t,c){},blocking(n,t,c){},terminated(){}})}}const ke=new we,ne=ke.connect();class Be{constructor(){F(this,"nodb",new Error("could not connect to indexed db"));F(this,"createNew",async e=>{var n;try{return await((n=await ne)==null?void 0:n.add("accounts",{name:e}))??this.nodb}catch(t){return te.error(t),new Error("could not create new account")}});F(this,"findAll",async()=>{var e;try{return await((e=await ne)==null?void 0:e.getAll("accounts"))??this.nodb}catch(n){return te.error(n),new Error("could not get all accounts")}})}}const H=new Be;function re(a,e,n){const t=a.slice();return t[6]=e[n],t}function ae(a){let e,n=a[1].account.name+"",t,c,r;return{c(){e=A("selected account: "),t=A(n),c=A(" Account"),r=b("br")},l(l){e=I(l,"selected account: "),t=I(l,n),c=I(l," Account"),r=w(l,"BR",{})},m(l,s){D(l,e,s),D(l,t,s),D(l,c,s),D(l,r,s)},p(l,s){s&2&&n!==(n=l[1].account.name+"")&&Z(t,n)},d(l){l&&g(e),l&&g(t),l&&g(c),l&&g(r)}}}function ce(a){let e,n;return{c(){e=b("a"),n=A("create new bank account!!"),this.h()},l(t){e=w(t,"A",{href:!0});var c=E(e);n=I(c,"create new bank account!!"),c.forEach(g),this.h()},h(){T(e,"href",ge+"/accounts/new")},m(t,c){D(t,e,c),p(e,n)},p:O,d(t){t&&g(e)}}}function le(a){let e,n;function t(){return a[2](a[6])}return e=new j({props:{text:a[6].name,onclick:t}}),{c(){C(e.$$.fragment)},l(c){P(e.$$.fragment,c)},m(c,r){S(e,c,r),n=!0},p(c,r){a=c;const l={};r&1&&(l.text=a[6].name),r&1&&(l.onclick=t),e.$set(l)},i(c){n||(N(e.$$.fragment,c),n=!0)},o(c){x(e.$$.fragment,c),n=!1},d(c){L(e,c)}}}function De(a){let e,n,t,c,r,l,s,i,f,d=a[1].account&&ae(a),o=!a[0].length&&ce(),_=a[0],h=[];for(let u=0;u<_.length;u+=1)h[u]=le(re(a,_,u));const U=u=>x(h[u],1,1,()=>{h[u]=null});return{c(){e=b("div"),n=b("div"),t=A("Accounts"),c=V(),d&&d.c(),r=V(),o&&o.c(),l=V();for(let u=0;u<h.length;u+=1)h[u].c();s=V(),i=b("br"),this.h()},l(u){e=w(u,"DIV",{class:!0});var $=E(e);n=w($,"DIV",{class:!0});var m=E(n);t=I(m,"Accounts"),m.forEach(g),c=y($),d&&d.l($),r=y($),o&&o.l($),l=y($);for(let v=0;v<h.length;v+=1)h[v].l($);s=y($),i=w($,"BR",{}),$.forEach(g),this.h()},h(){T(n,"class","page-title"),T(e,"class","page")},m(u,$){D(u,e,$),p(e,n),p(n,t),p(e,c),d&&d.m(e,null),p(e,r),o&&o.m(e,null),p(e,l);for(let m=0;m<h.length;m+=1)h[m]&&h[m].m(e,null);p(e,s),p(e,i),f=!0},p(u,[$]){if(u[1].account?d?d.p(u,$):(d=ae(u),d.c(),d.m(e,r)):d&&(d.d(1),d=null),u[0].length?o&&(o.d(1),o=null):o?o.p(u,$):(o=ce(),o.c(),o.m(e,l)),$&1){_=u[0];let m;for(m=0;m<_.length;m+=1){const v=re(u,_,m);h[m]?(h[m].p(v,$),N(h[m],1)):(h[m]=le(v),h[m].c(),N(h[m],1),h[m].m(e,s))}for(ue(),m=_.length;m<h.length;m+=1)U(m);fe()}},i(u){if(!f){for(let $=0;$<_.length;$+=1)N(h[$]);f=!0}},o(u){h=h.filter(Boolean);for(let $=0;$<h.length;$+=1)x(h[$]);f=!1},d(u){u&&g(e),d&&d.d(),o&&o.d(),me(h,u)}}}function Ae(a,e,n){let t;K(a,R,s=>n(1,t=s));let c=[];"indexedDB"in window||alert("This browser doesn't support IndexedDB"),Y(async()=>{await r()});const r=async()=>{const s=await H.findAll();s instanceof Error?alert(s.message):n(0,c=s),c.length&&R.setAccount(c[0])};return[c,t,s=>R.setAccount(s)]}class Ee extends W{constructor(e){super(),M(this,e,Ae,De,q,{})}}function Ie(a){var s;let e,n,t,c,r,l;return r=new j({props:{text:"Account: "+((s=a[0].account)==null?void 0:s.name),onclick:a[1]}}),{c(){e=b("div"),n=b("div"),t=A("Dashboard"),c=V(),C(r.$$.fragment),this.h()},l(i){e=w(i,"DIV",{class:!0});var f=E(e);n=w(f,"DIV",{class:!0});var d=E(n);t=I(d,"Dashboard"),d.forEach(g),c=y(f),P(r.$$.fragment,f),f.forEach(g),this.h()},h(){T(n,"class","page-title"),T(e,"class","page")},m(i,f){D(i,e,f),p(e,n),p(n,t),p(e,c),S(r,e,null),l=!0},p(i,[f]){var o;const d={};f&1&&(d.text="Account: "+((o=i[0].account)==null?void 0:o.name)),r.$set(d)},i(i){l||(N(r.$$.fragment,i),l=!0)},o(i){x(r.$$.fragment,i),l=!1},d(i){i&&g(e),L(r)}}}function Ne(a,e,n){let t;return K(a,R,r=>n(0,t=r)),Y(async()=>{if(!t.account){const r=await H.findAll();r instanceof Error?alert(r.message):r.length&&!t.account&&R.setAccount(r[0])}}),[t,()=>R.navto("accounts")]}class Ve extends W{constructor(e){super(),M(this,e,Ne,Ie,q,{})}}function ye(a){let e,n,t,c,r,l,s,i,f,d;return r=new j({props:{text:"theme: "+a[0],onclick:he.toggle}}),s=new j({props:{text:"delete index db",onclick:a[1]}}),f=new j({props:{text:"populate index db",onclick:a[2]}}),{c(){e=b("div"),n=b("div"),t=A("Developer Settings"),c=V(),C(r.$$.fragment),l=V(),C(s.$$.fragment),i=V(),C(f.$$.fragment),this.h()},l(o){e=w(o,"DIV",{class:!0});var _=E(e);n=w(_,"DIV",{class:!0});var h=E(n);t=I(h,"Developer Settings"),h.forEach(g),c=y(_),P(r.$$.fragment,_),l=y(_),P(s.$$.fragment,_),i=y(_),P(f.$$.fragment,_),_.forEach(g),this.h()},h(){T(n,"class","page-title"),T(e,"class","page")},m(o,_){D(o,e,_),p(e,n),p(n,t),p(e,c),S(r,e,null),p(e,l),S(s,e,null),p(e,i),S(f,e,null),d=!0},p(o,[_]){const h={};_&1&&(h.text="theme: "+o[0]),r.$set(h)},i(o){d||(N(r.$$.fragment,o),N(s.$$.fragment,o),N(f.$$.fragment,o),d=!0)},o(o){x(r.$$.fragment,o),x(s.$$.fragment,o),x(f.$$.fragment,o),d=!1},d(o){o&&g(e),L(r),L(s),L(f)}}}function xe(a,e,n){let t;return K(a,he,l=>n(0,t=l)),R.navto("dash"),[t,async()=>{const{deleteDB:l}=await pe(()=>import("../chunks/index.206c2777.js"),[],import.meta.url);await l("lib_wallet")},async()=>{const l=[];l.push(H.createNew("primary")),l.push(H.createNew("savings")),l.push(H.createNew("stocks")),await Promise.all(l),alert("done")}]}class Te extends W{constructor(e){super(),M(this,e,xe,ye,q,{})}}function Ce(a){let e,n,t,c;return{c(){e=b("div"),n=b("div"),t=A("Home"),c=A(`
    Welcome to Lib Wallet`),this.h()},l(r){e=w(r,"DIV",{class:!0});var l=E(e);n=w(l,"DIV",{class:!0});var s=E(n);t=I(s,"Home"),s.forEach(g),c=I(l,`
    Welcome to Lib Wallet`),l.forEach(g),this.h()},h(){T(n,"class","page-title"),T(e,"class","page")},m(r,l){D(r,e,l),p(e,n),p(n,t),p(e,c)},p:O,i:O,o:O,d(r){r&&g(e)}}}class Pe extends W{constructor(e){super(),M(this,e,null,Ce,q,{})}}function Se(a){let e,n,t,c,r,l,s,i,f,d;return{c(){e=b("div"),n=b("div"),t=A("Create New Bank Account"),c=V(),r=b("input"),l=V(),s=b("button"),i=A("Create new Bank Account"),this.h()},l(o){e=w(o,"DIV",{class:!0});var _=E(e);n=w(_,"DIV",{class:!0});var h=E(n);t=I(h,"Create New Bank Account"),h.forEach(g),c=y(_),r=w(_,"INPUT",{placeholder:!0}),l=y(_),s=w(_,"BUTTON",{});var U=E(s);i=I(U,"Create new Bank Account"),U.forEach(g),_.forEach(g),this.h()},h(){T(n,"class","page-title"),T(r,"placeholder","Account Name"),T(e,"class","page")},m(o,_){D(o,e,_),p(e,n),p(n,t),p(e,c),p(e,r),G(r,a[0]),p(e,l),p(e,s),p(s,i),f||(d=[z(r,"input",a[2]),z(s,"click",a[1])],f=!0)},p(o,[_]){_&1&&r.value!==o[0]&&G(r,o[0])},i:O,o:O,d(o){o&&g(e),f=!1,de(d)}}}function Le(a,e,n){let t;const c=async()=>{t||alert("enter an account name"),await H.createNew(t),R.navto("dash")};function r(){t=this.value,n(0,t)}return[t,c,r]}class Re extends W{constructor(e){super(),M(this,e,Le,Se,q,{})}}function oe(a,e,n){const t=a.slice();return t[8]=e[n],t}function se(a){let e,n=a[1].name+"",t,c;return{c(){e=A("selected account: "),t=A(n),c=b("br")},l(r){e=I(r,"selected account: "),t=I(r,n),c=w(r,"BR",{})},m(r,l){D(r,e,l),D(r,t,l),D(r,c,l)},p(r,l){l&2&&n!==(n=r[1].name+"")&&Z(t,n)},d(r){r&&g(e),r&&g(t),r&&g(c)}}}function ie(a){let e,n=a[8].name+"",t,c,r;function l(){return a[5](a[8])}return{c(){e=b("div"),t=A(n)},l(s){e=w(s,"DIV",{});var i=E(e);t=I(i,n),i.forEach(g)},m(s,i){D(s,e,i),p(e,t),c||(r=z(e,"click",l),c=!0)},p(s,i){a=s,i&4&&n!==(n=a[8].name+"")&&Z(t,n)},d(s){s&&g(e),c=!1,r()}}}function Oe(a){let e,n,t,c,r,l,s,i,f,d,o,_,h,U,u=a[1]&&se(a),$=a[2],m=[];for(let v=0;v<$.length;v+=1)m[v]=ie(oe(a,$,v));return{c(){e=b("div"),n=b("h1"),t=A("Just a simple page to test svelte kit static adapter for gh pages"),c=V(),u&&u.c(),r=V();for(let v=0;v<m.length;v+=1)m[v].c();l=V(),s=b("br"),i=V(),f=b("input"),d=V(),o=b("button"),_=A("Create new Bank Account"),this.h()},l(v){e=w(v,"DIV",{class:!0});var B=E(e);n=w(B,"H1",{});var k=E(n);t=I(k,"Just a simple page to test svelte kit static adapter for gh pages"),k.forEach(g),c=y(B),u&&u.l(B),r=y(B);for(let Q=0;Q<m.length;Q+=1)m[Q].l(B);l=y(B),s=w(B,"BR",{}),i=y(B),f=w(B,"INPUT",{placeholder:!0}),d=y(B),o=w(B,"BUTTON",{});var J=E(o);_=I(J,"Create new Bank Account"),J.forEach(g),B.forEach(g),this.h()},h(){T(f,"placeholder","Account Name"),T(e,"class","page")},m(v,B){D(v,e,B),p(e,n),p(n,t),p(e,c),u&&u.m(e,null),p(e,r);for(let k=0;k<m.length;k+=1)m[k]&&m[k].m(e,null);p(e,l),p(e,s),p(e,i),p(e,f),G(f,a[0]),p(e,d),p(e,o),p(o,_),h||(U=[z(f,"input",a[6]),z(o,"click",a[3])],h=!0)},p(v,[B]){if(v[1]?u?u.p(v,B):(u=se(v),u.c(),u.m(e,r)):u&&(u.d(1),u=null),B&20){$=v[2];let k;for(k=0;k<$.length;k+=1){const J=oe(v,$,k);m[k]?m[k].p(J,B):(m[k]=ie(J),m[k].c(),m[k].m(e,l))}for(;k<m.length;k+=1)m[k].d(1);m.length=$.length}B&1&&f.value!==v[0]&&G(f,v[0])},i:O,o:O,d(v){v&&g(e),u&&u.d(),me(m,v),h=!1,de(U)}}}function He(a,e,n){let t,c,r=[];const l=async()=>{t||alert("enter an account name"),await H.createNew(t),await i()};"indexedDB"in window||alert("This browser doesn't support IndexedDB"),Y(async()=>{await i()});const s=o=>n(1,c=o),i=async()=>{const o=await H.findAll();o instanceof Error?alert(o.message):n(2,r=o),r.length&&n(1,c=r[0])},f=o=>s(o);function d(){t=this.value,n(0,t)}return[t,c,r,l,s,f,d]}class Ue extends W{constructor(e){super(),M(this,e,He,Oe,q,{})}}function We(a){let e,n;return e=new Re({}),{c(){C(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,c){S(e,t,c),n=!0},i(t){n||(N(e.$$.fragment,t),n=!0)},o(t){x(e.$$.fragment,t),n=!1},d(t){L(e,t)}}}function Me(a){let e,n;return e=new Ee({}),{c(){C(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,c){S(e,t,c),n=!0},i(t){n||(N(e.$$.fragment,t),n=!0)},o(t){x(e.$$.fragment,t),n=!1},d(t){L(e,t)}}}function qe(a){let e,n;return e=new Te({}),{c(){C(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,c){S(e,t,c),n=!0},i(t){n||(N(e.$$.fragment,t),n=!0)},o(t){x(e.$$.fragment,t),n=!1},d(t){L(e,t)}}}function Je(a){let e,n;return e=new Ue({}),{c(){C(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,c){S(e,t,c),n=!0},i(t){n||(N(e.$$.fragment,t),n=!0)},o(t){x(e.$$.fragment,t),n=!1},d(t){L(e,t)}}}function je(a){let e,n;return e=new Ve({}),{c(){C(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,c){S(e,t,c),n=!0},i(t){n||(N(e.$$.fragment,t),n=!0)},o(t){x(e.$$.fragment,t),n=!1},d(t){L(e,t)}}}function ze(a){let e,n;return e=new Pe({}),{c(){C(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,c){S(e,t,c),n=!0},i(t){n||(N(e.$$.fragment,t),n=!0)},o(t){x(e.$$.fragment,t),n=!1},d(t){L(e,t)}}}function Fe(a){let e,n,t,c;const r=[ze,je,Je,qe,Me,We],l=[];function s(i,f){return i[0].page==="home"?0:i[0].page==="dash"?1:i[0].page==="test"?2:i[0].page==="debug"?3:i[0].page==="accounts"?4:i[0].page==="new-account"?5:-1}return~(e=s(a))&&(n=l[e]=r[e](a)),{c(){n&&n.c(),t=ee()},l(i){n&&n.l(i),t=ee()},m(i,f){~e&&l[e].m(i,f),D(i,t,f),c=!0},p(i,[f]){let d=e;e=s(i),e!==d&&(n&&(ue(),x(l[d],1,1,()=>{l[d]=null}),fe()),~e?(n=l[e],n||(n=l[e]=r[e](i),n.c()),N(n,1),n.m(t.parentNode,t)):n=null)},i(i){c||(N(n),c=!0)},o(i){x(n),c=!1},d(i){~e&&l[e].d(i),i&&g(t)}}}function Ge(a,e,n){let t;return K(a,R,c=>n(0,t=c)),[t]}class et extends W{constructor(e){super(),M(this,e,Ge,Fe,q,{})}}export{et as default};
