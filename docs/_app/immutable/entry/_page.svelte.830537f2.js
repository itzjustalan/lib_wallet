var we=Object.defineProperty;var ke=(a,e,n)=>e in a?we(a,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):a[e]=n;var Q=(a,e,n)=>(ke(a,typeof e!="symbol"?e+"":e,n),n);import{S as q,i as J,s as j,k as w,q as I,a as y,l as k,m as E,r as V,h,c as N,n as C,b as x,C as f,g as T,v as pe,f as he,d as P,K as _e,F as Y,o as te,u as ne,E as W,y as L,z as H,A as R,B as O,L as X,D as G,M as $e,e as ae}from"../chunks/index.8038583f.js";import{_ as ge}from"../chunks/preload-helper.41c905a7.js";import{a as U,I as K,t as ve}from"../chunks/Item.d1ad3d09.js";import{b as be}from"../chunks/paths.6f742557.js";const ce={info:(...a)=>ee("info",...a),warn:(...a)=>ee("warn",...a),error:(...a)=>ee("error",...a),endpoint:(a,e,n,t,...c)=>{t=Math.trunc(t);let r=Be()+"[:";a<300?r+="\x1B[32m":a<400?r+="\x1B[33m":a<500?r+="\x1B[31m":r+="\x1B[43m",r+=a+"\x1B[0m] ",r+="\x1B[33m"+e,r+="\x1B[0m \x1B[32m"+n,t>500?r+="\x1B[33m 🦥":t>1e3?r+="\x1B[31m 🐌":r+="\x1B[32m 🚀",r+=` ${t} ms\x1B[0m`,console.log(r)}},ee=(a,...e)=>{if(!De())return console[a](...e)},Be=()=>new Date().toLocaleTimeString()+" ",De=a=>!0;class Ae{async connect(){const{openDB:e}=await ge(()=>import("../chunks/index.206c2777.js"),[],import.meta.url);return e("lib_wallet",+"1",{upgrade(n,t,c,r,l){n.createObjectStore("accounts",{keyPath:"id",autoIncrement:!0})},blocked(n,t,c){},blocking(n,t,c){},terminated(){}})}}const Ee=new Ae,le=Ee.connect();class Ie{constructor(){Q(this,"nodb",new Error("could not connect to indexed db"));Q(this,"createNew",async e=>{var n;try{return await((n=await le)==null?void 0:n.add("accounts",{name:e}))??this.nodb}catch(t){return ce.error(t),new Error("could not create new account")}});Q(this,"findAll",async()=>{var e;try{return await((e=await le)==null?void 0:e.getAll("accounts"))??this.nodb}catch(n){return ce.error(n),new Error("could not get all accounts")}})}}const M=new Ie;function oe(a,e,n){const t=a.slice();return t[6]=e[n],t}function se(a){let e,n=a[1].account.name+"",t,c,r;return{c(){e=I("selected account: "),t=I(n),c=I(" Account"),r=w("br")},l(l){e=V(l,"selected account: "),t=V(l,n),c=V(l," Account"),r=k(l,"BR",{})},m(l,s){x(l,e,s),x(l,t,s),x(l,c,s),x(l,r,s)},p(l,s){s&2&&n!==(n=l[1].account.name+"")&&ne(t,n)},d(l){l&&h(e),l&&h(t),l&&h(c),l&&h(r)}}}function ie(a){let e,n;return{c(){e=w("a"),n=I("create new bank account!!"),this.h()},l(t){e=k(t,"A",{href:!0});var c=E(e);n=V(c,"create new bank account!!"),c.forEach(h),this.h()},h(){C(e,"href",be+"/accounts/new")},m(t,c){x(t,e,c),f(e,n)},p:W,d(t){t&&h(e)}}}function ue(a){let e,n;function t(){return a[2](a[6])}return e=new K({props:{text:a[6].name,onclick:t}}),{c(){L(e.$$.fragment)},l(c){H(e.$$.fragment,c)},m(c,r){R(e,c,r),n=!0},p(c,r){a=c;const l={};r&1&&(l.text=a[6].name),r&1&&(l.onclick=t),e.$set(l)},i(c){n||(T(e.$$.fragment,c),n=!0)},o(c){P(e.$$.fragment,c),n=!1},d(c){O(e,c)}}}function Ve(a){let e,n,t,c,r,l,s,i,u,m=a[1].account&&se(a),o=!a[0].length&&ie(),p=a[0],d=[];for(let _=0;_<p.length;_+=1)d[_]=ue(oe(a,p,_));const S=_=>P(d[_],1,1,()=>{d[_]=null});return{c(){e=w("div"),n=w("div"),t=I("Accounts"),c=y(),m&&m.c(),r=y(),o&&o.c(),l=y();for(let _=0;_<d.length;_+=1)d[_].c();s=y(),i=w("br"),this.h()},l(_){e=k(_,"DIV",{class:!0});var $=E(e);n=k($,"DIV",{class:!0});var g=E(n);t=V(g,"Accounts"),g.forEach(h),c=N($),m&&m.l($),r=N($),o&&o.l($),l=N($);for(let v=0;v<d.length;v+=1)d[v].l($);s=N($),i=k($,"BR",{}),$.forEach(h),this.h()},h(){C(n,"class","page-title"),C(e,"class","page")},m(_,$){x(_,e,$),f(e,n),f(n,t),f(e,c),m&&m.m(e,null),f(e,r),o&&o.m(e,null),f(e,l);for(let g=0;g<d.length;g+=1)d[g]&&d[g].m(e,null);f(e,s),f(e,i),u=!0},p(_,[$]){if(_[1].account?m?m.p(_,$):(m=se(_),m.c(),m.m(e,r)):m&&(m.d(1),m=null),_[0].length?o&&(o.d(1),o=null):o?o.p(_,$):(o=ie(),o.c(),o.m(e,l)),$&1){p=_[0];let g;for(g=0;g<p.length;g+=1){const v=oe(_,p,g);d[g]?(d[g].p(v,$),T(d[g],1)):(d[g]=ue(v),d[g].c(),T(d[g],1),d[g].m(e,s))}for(pe(),g=p.length;g<d.length;g+=1)S(g);he()}},i(_){if(!u){for(let $=0;$<p.length;$+=1)T(d[$]);u=!0}},o(_){d=d.filter(Boolean);for(let $=0;$<d.length;$+=1)P(d[$]);u=!1},d(_){_&&h(e),m&&m.d(),o&&o.d(),_e(d,_)}}}function ye(a,e,n){let t;Y(a,U,s=>n(1,t=s));let c=[];"indexedDB"in window||alert("This browser doesn't support IndexedDB"),te(async()=>{await r()});const r=async()=>{const s=await M.findAll();s instanceof Error?alert(s.message):n(0,c=s),c.length&&U.setAccount(c[0])};return[c,t,s=>U.setAccount(s)]}class Ne extends q{constructor(e){super(),J(this,e,ye,Ve,j,{})}}function xe(a){var s;let e,n,t,c,r,l;return r=new K({props:{text:"Account: "+((s=a[0].account)==null?void 0:s.name),onclick:a[1]}}),{c(){e=w("div"),n=w("div"),t=I("Dashboard"),c=y(),L(r.$$.fragment),this.h()},l(i){e=k(i,"DIV",{class:!0});var u=E(e);n=k(u,"DIV",{class:!0});var m=E(n);t=V(m,"Dashboard"),m.forEach(h),c=N(u),H(r.$$.fragment,u),u.forEach(h),this.h()},h(){C(n,"class","page-title"),C(e,"class","page")},m(i,u){x(i,e,u),f(e,n),f(n,t),f(e,c),R(r,e,null),l=!0},p(i,[u]){var o;const m={};u&1&&(m.text="Account: "+((o=i[0].account)==null?void 0:o.name)),r.$set(m)},i(i){l||(T(r.$$.fragment,i),l=!0)},o(i){P(r.$$.fragment,i),l=!1},d(i){i&&h(e),O(r)}}}function Te(a,e,n){let t;return Y(a,U,r=>n(0,t=r)),te(async()=>{if(!t.account){const r=await M.findAll();r instanceof Error?alert(r.message):r.length&&!t.account&&U.setAccount(r[0])}}),[t,()=>U.navto("accounts")]}class Ce extends q{constructor(e){super(),J(this,e,Te,xe,j,{})}}function Pe(a){let e,n,t,c,r,l,s,i,u,m;return r=new K({props:{text:"theme: "+a[0],onclick:ve.toggle}}),s=new K({props:{text:"delete index db",onclick:a[1]}}),u=new K({props:{text:"populate index db",onclick:a[2]}}),{c(){e=w("div"),n=w("div"),t=I("Developer Settings"),c=y(),L(r.$$.fragment),l=y(),L(s.$$.fragment),i=y(),L(u.$$.fragment),this.h()},l(o){e=k(o,"DIV",{class:!0});var p=E(e);n=k(p,"DIV",{class:!0});var d=E(n);t=V(d,"Developer Settings"),d.forEach(h),c=N(p),H(r.$$.fragment,p),l=N(p),H(s.$$.fragment,p),i=N(p),H(u.$$.fragment,p),p.forEach(h),this.h()},h(){C(n,"class","page-title"),C(e,"class","page")},m(o,p){x(o,e,p),f(e,n),f(n,t),f(e,c),R(r,e,null),f(e,l),R(s,e,null),f(e,i),R(u,e,null),m=!0},p(o,[p]){const d={};p&1&&(d.text="theme: "+o[0]),r.$set(d)},i(o){m||(T(r.$$.fragment,o),T(s.$$.fragment,o),T(u.$$.fragment,o),m=!0)},o(o){P(r.$$.fragment,o),P(s.$$.fragment,o),P(u.$$.fragment,o),m=!1},d(o){o&&h(e),O(r),O(s),O(u)}}}function Se(a,e,n){let t;return Y(a,ve,l=>n(0,t=l)),U.navto("dash"),[t,async()=>{const{deleteDB:l}=await ge(()=>import("../chunks/index.206c2777.js"),[],import.meta.url);await l("lib_wallet")},async()=>{const l=[];l.push(M.createNew("primary")),l.push(M.createNew("savings")),l.push(M.createNew("stocks")),await Promise.all(l),alert("done")}]}class Le extends q{constructor(e){super(),J(this,e,Se,Pe,j,{})}}function He(a){let e,n,t,c;return{c(){e=w("div"),n=w("div"),t=I("Home"),c=I(`
    Welcome to Lib Wallet`),this.h()},l(r){e=k(r,"DIV",{class:!0});var l=E(e);n=k(l,"DIV",{class:!0});var s=E(n);t=V(s,"Home"),s.forEach(h),c=V(l,`
    Welcome to Lib Wallet`),l.forEach(h),this.h()},h(){C(n,"class","page-title"),C(e,"class","page")},m(r,l){x(r,e,l),f(e,n),f(n,t),f(e,c)},p:W,i:W,o:W,d(r){r&&h(e)}}}class Re extends q{constructor(e){super(),J(this,e,null,He,j,{})}}function Oe(a){let e,n,t,c,r,l,s,i,u,m;return{c(){e=w("div"),n=w("div"),t=I("Create New Bank Account"),c=y(),r=w("input"),l=y(),s=w("button"),i=I("Create new Bank Account"),this.h()},l(o){e=k(o,"DIV",{class:!0});var p=E(e);n=k(p,"DIV",{class:!0});var d=E(n);t=V(d,"Create New Bank Account"),d.forEach(h),c=N(p),r=k(p,"INPUT",{placeholder:!0}),l=N(p),s=k(p,"BUTTON",{});var S=E(s);i=V(S,"Create new Bank Account"),S.forEach(h),p.forEach(h),this.h()},h(){C(n,"class","page-title"),C(r,"placeholder","Account Name"),C(e,"class","page")},m(o,p){x(o,e,p),f(e,n),f(n,t),f(e,c),f(e,r),X(r,a[0]),f(e,l),f(e,s),f(s,i),u||(m=[G(r,"input",a[2]),G(s,"click",a[1])],u=!0)},p(o,[p]){p&1&&r.value!==o[0]&&X(r,o[0])},i:W,o:W,d(o){o&&h(e),u=!1,$e(m)}}}function Ue(a,e,n){let t;const c=async()=>{t||alert("enter an account name"),await M.createNew(t),U.navto("dash")};function r(){t=this.value,n(0,t)}return[t,c,r]}class We extends q{constructor(e){super(),J(this,e,Ue,Oe,j,{})}}function fe(a,e,n){const t=a.slice();return t[8]=e[n],t}function me(a){let e,n=a[1].name+"",t,c;return{c(){e=I("selected account: "),t=I(n),c=w("br")},l(r){e=V(r,"selected account: "),t=V(r,n),c=k(r,"BR",{})},m(r,l){x(r,e,l),x(r,t,l),x(r,c,l)},p(r,l){l&2&&n!==(n=r[1].name+"")&&ne(t,n)},d(r){r&&h(e),r&&h(t),r&&h(c)}}}function de(a){let e,n=a[8].name+"",t,c,r;function l(){return a[5](a[8])}return{c(){e=w("div"),t=I(n)},l(s){e=k(s,"DIV",{});var i=E(e);t=V(i,n),i.forEach(h)},m(s,i){x(s,e,i),f(e,t),c||(r=G(e,"click",l),c=!0)},p(s,i){a=s,i&4&&n!==(n=a[8].name+"")&&ne(t,n)},d(s){s&&h(e),c=!1,r()}}}function Me(a){let e,n,t,c,r,l,s,i,u,m,o,p,d,S,_,$,g,v=a[1]&&me(a),z=a[2],A=[];for(let b=0;b<z.length;b+=1)A[b]=de(fe(a,z,b));return{c(){e=w("div"),n=w("h1"),t=I("Just a simple page to test svelte kit static adapter for gh pages"),c=y(),v&&v.c(),r=y();for(let b=0;b<A.length;b+=1)A[b].c();l=y(),s=w("br"),i=y(),u=w("input"),m=y(),o=w("button"),p=I("Create new Bank Account"),d=y(),S=w("a"),_=I("Home"),this.h()},l(b){e=k(b,"DIV",{class:!0});var B=E(e);n=k(B,"H1",{});var D=E(n);t=V(D,"Just a simple page to test svelte kit static adapter for gh pages"),D.forEach(h),c=N(B),v&&v.l(B),r=N(B);for(let Z=0;Z<A.length;Z+=1)A[Z].l(B);l=N(B),s=k(B,"BR",{}),i=N(B),u=k(B,"INPUT",{placeholder:!0}),m=N(B),o=k(B,"BUTTON",{});var F=E(o);p=V(F,"Create new Bank Account"),F.forEach(h),d=N(B),S=k(B,"A",{href:!0});var re=E(S);_=V(re,"Home"),re.forEach(h),B.forEach(h),this.h()},h(){C(u,"placeholder","Account Name"),C(S,"href",be+"/"),C(e,"class","page")},m(b,B){x(b,e,B),f(e,n),f(n,t),f(e,c),v&&v.m(e,null),f(e,r);for(let D=0;D<A.length;D+=1)A[D]&&A[D].m(e,null);f(e,l),f(e,s),f(e,i),f(e,u),X(u,a[0]),f(e,m),f(e,o),f(o,p),f(e,d),f(e,S),f(S,_),$||(g=[G(u,"input",a[6]),G(o,"click",a[3])],$=!0)},p(b,[B]){if(b[1]?v?v.p(b,B):(v=me(b),v.c(),v.m(e,r)):v&&(v.d(1),v=null),B&20){z=b[2];let D;for(D=0;D<z.length;D+=1){const F=fe(b,z,D);A[D]?A[D].p(F,B):(A[D]=de(F),A[D].c(),A[D].m(e,l))}for(;D<A.length;D+=1)A[D].d(1);A.length=z.length}B&1&&u.value!==b[0]&&X(u,b[0])},i:W,o:W,d(b){b&&h(e),v&&v.d(),_e(A,b),$=!1,$e(g)}}}function qe(a,e,n){let t,c,r=[];const l=async()=>{t||alert("enter an account name"),await M.createNew(t),await i()};"indexedDB"in window||alert("This browser doesn't support IndexedDB"),te(async()=>{await i()});const s=o=>n(1,c=o),i=async()=>{const o=await M.findAll();o instanceof Error?alert(o.message):n(2,r=o),r.length&&n(1,c=r[0])},u=o=>s(o);function m(){t=this.value,n(0,t)}return[t,c,r,l,s,u,m]}class Je extends q{constructor(e){super(),J(this,e,qe,Me,j,{})}}function je(a){let e,n;return e=new We({}),{c(){L(e.$$.fragment)},l(t){H(e.$$.fragment,t)},m(t,c){R(e,t,c),n=!0},i(t){n||(T(e.$$.fragment,t),n=!0)},o(t){P(e.$$.fragment,t),n=!1},d(t){O(e,t)}}}function ze(a){let e,n;return e=new Ne({}),{c(){L(e.$$.fragment)},l(t){H(e.$$.fragment,t)},m(t,c){R(e,t,c),n=!0},i(t){n||(T(e.$$.fragment,t),n=!0)},o(t){P(e.$$.fragment,t),n=!1},d(t){O(e,t)}}}function Fe(a){let e,n;return e=new Le({}),{c(){L(e.$$.fragment)},l(t){H(e.$$.fragment,t)},m(t,c){R(e,t,c),n=!0},i(t){n||(T(e.$$.fragment,t),n=!0)},o(t){P(e.$$.fragment,t),n=!1},d(t){O(e,t)}}}function Ke(a){let e,n;return e=new Je({}),{c(){L(e.$$.fragment)},l(t){H(e.$$.fragment,t)},m(t,c){R(e,t,c),n=!0},i(t){n||(T(e.$$.fragment,t),n=!0)},o(t){P(e.$$.fragment,t),n=!1},d(t){O(e,t)}}}function Ge(a){let e,n;return e=new Ce({}),{c(){L(e.$$.fragment)},l(t){H(e.$$.fragment,t)},m(t,c){R(e,t,c),n=!0},i(t){n||(T(e.$$.fragment,t),n=!0)},o(t){P(e.$$.fragment,t),n=!1},d(t){O(e,t)}}}function Qe(a){let e,n;return e=new Re({}),{c(){L(e.$$.fragment)},l(t){H(e.$$.fragment,t)},m(t,c){R(e,t,c),n=!0},i(t){n||(T(e.$$.fragment,t),n=!0)},o(t){P(e.$$.fragment,t),n=!1},d(t){O(e,t)}}}function Xe(a){let e,n,t,c;const r=[Qe,Ge,Ke,Fe,ze,je],l=[];function s(i,u){return i[0].page==="home"?0:i[0].page==="dash"?1:i[0].page==="test"?2:i[0].page==="debug"?3:i[0].page==="accounts"?4:i[0].page==="new-account"?5:-1}return~(e=s(a))&&(n=l[e]=r[e](a)),{c(){n&&n.c(),t=ae()},l(i){n&&n.l(i),t=ae()},m(i,u){~e&&l[e].m(i,u),x(i,t,u),c=!0},p(i,[u]){let m=e;e=s(i),e!==m&&(n&&(pe(),P(l[m],1,1,()=>{l[m]=null}),he()),~e?(n=l[e],n||(n=l[e]=r[e](i),n.c()),T(n,1),n.m(t.parentNode,t)):n=null)},i(i){c||(T(n),c=!0)},o(i){P(n),c=!1},d(i){~e&&l[e].d(i),i&&h(t)}}}function Ye(a,e,n){let t;return Y(a,U,c=>n(0,t=c)),[t]}class at extends q{constructor(e){super(),J(this,e,Ye,Xe,j,{})}}export{at as default};
